- user ||= @user
- destination ||= false

= form_for @user, url: droom_client.set_password_user_path(user), method: "PUT" do |f|
  = hidden_field_tag :tok, params[:tok]
  - if destination
    = hidden_field_tag :destination, destination
  
  %fieldset{data: {role: 'password'}}
    %p.set_password
      %span.col.password>
        = f.label :password, class: "required"
        = f.password_field :password, placeholder: "Six characters or more, please", required: true, data: {role: "password"}

      %span.col.confirmation{:data => {:role => "confirmation"}}>
        = f.label :password_confirmation, class: "required"
        = f.password_field :password_confirmation, placeholder: "", required: true

      %span.col.strength{:data => {:role => "complexity"}}>
        %strong
          = t :password_strength
        %span.complexity
          Checking
      
    %p.formnote
      = t :password_strength_note

    %p.buttons
      = f.submit "Save password and continue"
